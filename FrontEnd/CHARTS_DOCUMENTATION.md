# ğŸ“ˆ Advanced Real-time Charts Documentation\n\n## Overview\nSistem chart telah diupgrade menjadi dashboard real-time yang canggih dengan fitur-fitur advanced untuk monitoring sensor IoT.\n\n## ğŸš€ Fitur Utama\n\n### 1. **Real-time Data Visualization**\n- âœ… Update otomatis setiap 5 detik\n- âœ… Data langsung dari backend API  \n- âœ… Smooth animated transitions\n- âœ… Interactive hover effects\n\n### 2. **Advanced Chart Features**\n- ğŸ¨ **Gradient fills** dengan efek glow\n- ğŸ“Š **Smooth curved lines** menggunakan Quadratic Bezier\n- ğŸ¯ **Interactive data points** dengan tooltip\n- ğŸ“ **Dynamic scaling** berdasarkan min/max values\n- ğŸŒˆ **Color-coded trends** (up/down/stable)\n- âš¡ **Live indicators** dengan pulse animation\n\n### 3. **Smart Control Panel**\n- â±ï¸ **Time Range Selector** (1 jam - 1 minggu)\n- ğŸ›ï¸ **Metric Filter** (semua sensor atau individual)\n- ğŸ¨ **Layout Toggle** (Grid vs Stacked)\n- ğŸ”„ **Auto Refresh** toggle dengan manual refresh\n- ğŸ“Š **Live Performance Stats**\n\n### 4. **Responsive Design**\n- ğŸ“± **Mobile-first** approach\n- ğŸ–¥ï¸ **Desktop optimized** layouts\n- ğŸ¯ **Touch-friendly** controls\n- ğŸ“ **Adaptive grid** system\n\n## ğŸ“Š Chart Types\n\n### Temperature Chart (ğŸŒ¡ï¸)\n- **Color**: Orange gradient (#f59e0b)\n- **Unit**: Â°C (Celsius)\n- **Features**: Daily temperature variation simulation\n- **Trends**: Higher during day, lower at night\n\n### Soil Moisture Chart (ğŸ’§)\n- **Color**: Green gradient (#10b981)\n- **Unit**: % (Percentage)\n- **Features**: Pump status integration\n- **Trends**: Increases when pump is ON\n\n### Air Humidity Chart (ğŸŒ«ï¸)\n- **Color**: Purple gradient (#8b5cf6)\n- **Unit**: % (Percentage)\n- **Features**: Environmental humidity tracking\n- **Trends**: Higher in morning/night, lower during day\n\n## ğŸ”§ Technical Implementation\n\n### Component Structure\n```\nğŸ“ ChartCard.js (Main Chart Component)\nâ”œâ”€â”€ ğŸ¨ Advanced SVG Generator\nâ”œâ”€â”€ ğŸ“Š Real-time Data Hook\nâ”œâ”€â”€ ğŸ¯ Interactive Elements\nâ””â”€â”€ ğŸ“± Responsive Design\n\nğŸ“ RealTimeCharts.js (Dashboard Component) \nâ”œâ”€â”€ ğŸ›ï¸ Control Panel\nâ”œâ”€â”€ ğŸ“Š Multiple Chart Management\nâ”œâ”€â”€ ğŸ“ˆ Performance Statistics\nâ””â”€â”€ ğŸ”„ Auto Refresh System\n```\n\n### Data Flow\n```mermaid\nBackend API â†’ useHistoricalData Hook â†’ ChartCard Component â†’ SVG Rendering\n     â†“              â†“                    â†“               â†“\n Mock Data â†’ Polling (5s) â†’ Chart Updates â†’ Smooth Animation\n```\n\n### Key Features Implementation\n\n#### 1. **Smooth Chart Generation**\n```javascript\nconst generateSmoothPath = (points) => {\n  let path = `M ${points[0].x} ${points[0].y}`;\n  \n  for (let i = 1; i < points.length; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const cpx = prev.x + (curr.x - prev.x) * 0.5;\n    \n    path += ` Q ${cpx} ${prev.y} ${curr.x} ${curr.y}`;\n  }\n  \n  return path;\n};\n```\n\n#### 2. **Trend Detection**\n```javascript\nconst calculateTrend = (data) => {\n  const recent = data.slice(-5); // Last 5 points\n  const change = ((lastValue - firstValue) / firstValue) * 100;\n  \n  if (change > 2) return 'up';\n  if (change < -2) return 'down';\n  return 'stable';\n};\n```\n\n#### 3. **Real-time Updates**\n```javascript\nuseEffect(() => {\n  const interval = setInterval(() => {\n    refetch(); // Refresh data from API\n  }, API_CONFIG.POLLING_INTERVAL);\n  \n  return () => clearInterval(interval);\n}, [refetch]);\n```\n\n## ğŸ¨ Styling Features\n\n### Advanced CSS Effects\n- **Glassmorphism**: `backdrop-filter: blur(10px)`\n- **Gradient Borders**: Multiple background layers\n- **Hover Animations**: Transform and shadow effects\n- **Pulse Animations**: Live indicators\n- **Smooth Transitions**: `cubic-bezier(0.4, 0, 0.2, 1)`\n\n### Color Schemes\n```css\n/* Temperature - Orange */\n--temp-gradient: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n\n/* Soil Moisture - Green */\n--soil-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);\n\n/* Air Humidity - Purple */\n--air-gradient: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);\n```\n\n## ğŸ“± Responsive Breakpoints\n\n```css\n/* Mobile First */\n@media (max-width: 768px) {\n  .charts-container.grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* Tablet */\n@media (max-width: 1024px) {\n  .control-buttons {\n    gap: 16px;\n  }\n}\n\n/* Desktop */\n@media (min-width: 1200px) {\n  .charts-container.grid {\n    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  }\n}\n```\n\n## ğŸ”„ API Integration\n\n### Endpoints Used\n- `GET /api/sensors/history?hours=24` - Historical data\n- `GET /api/sensors` - Current readings\n- `GET /api/sensors/status` - System status\n\n### Data Format\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"temperature\": 29.5,\n      \"soilMoisture\": 67.2,\n      \"airHumidity\": 72.8,\n      \"timestamp\": \"2025-11-13T10:30:00.000Z\"\n    }\n  ]\n}\n```\n\n## ğŸš€ Performance Optimizations\n\n### 1. **Efficient Rendering**\n- âœ… SVG instead of Canvas untuk better scalability\n- âœ… `useCallback` untuk prevent unnecessary re-renders\n- âœ… Conditional rendering untuk mobile optimization\n\n### 2. **Smart Data Management**\n- âœ… Data caching dengan custom hooks\n- âœ… Automatic cleanup untuk memory leaks\n- âœ… Debounced API calls\n\n### 3. **Animation Optimization**\n- âœ… `requestAnimationFrame` untuk smooth animations\n- âœ… CSS transitions instead of JavaScript animations\n- âœ… Hardware acceleration dengan `transform3d`\n\n## ğŸ¯ Usage Examples\n\n### Basic Chart Usage\n```jsx\n<ChartCard\n  title=\"Suhu Lingkungan\"\n  subtitle=\"Data suhu dalam 24 jam terakhir\"\n  dataType=\"temperature\"\n  color=\"#f59e0b\"\n  unit=\"Â°C\"\n  showRealTime={true}\n  timeRange={24}\n/>\n```\n\n### Advanced Dashboard\n```jsx\n<RealTimeCharts />\n```\n\n## ğŸ› ï¸ Customization\n\n### Custom Colors\n```javascript\nconst customColors = {\n  temperature: '#ff6b6b',\n  soilMoisture: '#4ecdc4', \n  airHumidity: '#45b7d1'\n};\n```\n\n### Custom Time Ranges\n```javascript\nconst timeRanges = [\n  { value: 1, label: '1 Jam' },\n  { value: 6, label: '6 Jam' },\n  { value: 24, label: '24 Jam' },\n  { value: 168, label: '1 Minggu' }\n];\n```\n\n## ğŸ› Troubleshooting\n\n### Common Issues\n\n1. **Chart tidak muncul**\n   - âœ… Pastikan backend API berjalan\n   - âœ… Check console untuk error messages\n   - âœ… Verify data format dari API\n\n2. **Real-time tidak update**\n   - âœ… Check `autoRefresh` setting\n   - âœ… Verify polling interval\n   - âœ… Check network connectivity\n\n3. **Performance issues**\n   - âœ… Reduce polling frequency\n   - âœ… Limit data points\n   - âœ… Disable animations on mobile\n\n## ğŸ‰ Future Enhancements\n\n- [ ] **WebSocket** integration untuk real-time data\n- [ ] **Export** chart sebagai image/PDF\n- [ ] **Zoom & Pan** functionality\n- [ ] **Multiple timeframe** overlay\n- [ ] **Alert thresholds** visual indicators\n- [ ] **Predictive analytics** dengan ML\n\n---\n\n**Developed with â¤ï¸ for PantauFarm IoT System**\n*Advanced Real-time Agricultural Monitoring Dashboard*